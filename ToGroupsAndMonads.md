# Във водите на Монадите

![монади](https://github.com/user-attachments/assets/faf6d37f-3e55-450c-8272-eee0a1281597)

_/Откъм плиткия край, обещавам/_

В днешно време за един програмист е трудна задача да избягва контакт с термина **"Монада"**. След като беше въведен в **Haskell** в началото на 90-те години, сега той е повече или по-малко част от мейнстрийма. Огледайте се и ще намерите доста описания на това какво представляват монадите – но това често повдига въпроса: Защо просто не се кажете какво са?

Краткият отговор, разбира се, е, че монадите са част от клон на чистата математика и такъв, който малцина  са изучавали: [Теория на категориите](README.md). Обикновено се преподава на бакалавърско и магистърско ниво и е достатъчно абстрактно, за да си спечели прозвището „общи абстрактни глупости“. И монадите не са първият елемент в менюто: в „Теория на категориите“ на Стив Ауоди няма да ги намерите споменати преди страница 253. Но вероятно можете да стигнете донякъде с разбирането на идеята за монада от концепции, които могат да бъдат, и някога рутинно са били, преподавани на тийнейджъри: **групи** и **хомоморфизми**. Как така? Тъй като монадата като такава по същество е структура, много подобна на група; и тъй като краят на една монада е по същество хомоморфизъм.

Преди всичко това, може би първо няколко думи за вида математика, която програмистът трябва разумно да очаква да види и използва: никой не трепва, когато термини като "кортеж", "множество" и "вектор" са част от език за програмиране; и, разбира се, понятието функция е фундаментално в компютрите, както и в математиката. Но колко напреднали и колко абстрактни? Едсгер Дайкстра веднъж отбеляза, че "така наречените функции от по-висок ред... се смятат за твърде изискани, дори за много математици, те са функции, които имат функции за своя аргумент и могат да върнат функция като стойност", но той се срещна с разработчици в индустрията, които говорят за тях „сякаш са най-нормалното нещо на света“. Дали нивото на абстракция на теорията на категориите е „новото нормално“ в изчислителната техника?

## Чумата Монада

Може да си струва да разгледаме опита в област, чиято връзка с математиката (включително абстрактната математика) има повече от няколко прилики с тази на изчисленията: физиката. Не на последно място, защото първоначално назад във времето,не се е смятала за отделна дисциплина: от една страна, изглежда, че през вековете математиците са прекарали необикновено много време в прецизно изчисляване на орбитата на планетите – включително Гаус с Церера и чак до Лаплас с неговата "Небесна механика". Нютон е пример за времето, когато математиката и физиката са повече или по-малко неразличими: Галилей може да е казал, че „законите на природата са написани на езика на математиката“, но Нютон е този, който показва, че по-често диалектът е смятане и че законите са отношения между производни. Физиците не се притесняват да им бъде представено диференциално уравнение – това е хлябът и маслото на тяхната дисциплина. Но абстрактната алгебра е друг въпрос.

Всъщност една от първите големи срещи между физиката и абстрактната алгебра не минава гладко. Теорията на групите, която през 20-те години на 20-ти век се оказало, че има важни приложения към новоразвиващата се квантова механика, повдигна недоволството на редица физици, включително Паули, който се позова на "Gruppenpest" - чумата на групите. С течение на времето физиците спряха да мърморят и се примириха с теорията на групите. Ще се случи ли същото с програмистите и "Monadpest"? Може би да, може би не. Въпреки че трябва да се каже, че монадите са по-напреднала концепция.

Ако не друго, връзката между изчисленията и математиката е по-"фундаментална". Можете да проследите произхода на компютрите до определени програмируеми машини – може би стана на Жакард или работата на Чарлз Бабидж и Ада Лавлейс; но по отношение на теоретичните основи, които биха се приложили към всяка такава машина, е трудно да се спори с важността на два документа от 1936 г.: „Неразрешим проблем на елементарната теория на числата“ на Алонзо Чърч и „За изчислимите числа, с приложение“ на Алън Тюринг към Entscheidungsproblem“. И Чърч, и Тюринг са били математически логици и тези документи отговарят на един и същ фундаментален въпрос в логиката („проблемът с решението“), поставен от Дейвид Хилбърт, един от водещите математици от деветнадесети и двадесети век. Понятието „изчислимост“, което е от решаващо значение за отговора на този въпрос, по това време било строго математическо, въпреки че било ясно, че може и ще  има връзка с механично или електронно устройство. Чърч и Тюринг са дали много различни отговори, но е доказано, че са еквивалентни (както и друг, даден от Гьодел). Огромната общност на въпросите, които могат да бъдат зададени в компютърната техника – не на последно място „какво е изчислимо“ – определя вида математика, която е включена. Може би не трябва да се изненадваме, че тук ни се иска да не си спомняме някаква неясна статистическа мярка в периферията на математиката, а да разгледаме въпросите на структурата и абстракцията в нейната същност, такива, които се разглеждат от абстрактната алгебра и теорията на категориите.

Така че би изглеждало разумно да се навлезе в абстрактната алгебра – от плиткия край. Може би трябва да отбележим между другото, че с "обикновената стара" алгебра вече сме на определено ниво на абстракция: използването на символи за представяне на числови променливи, заедно със събиране, равенство и други подобни, отнело векове, за да се установи в сегашната си форма; и въпреки че можете да намерите Диофант в древна Гърция, използвайки
γ за неизвестно, Δγ за квадрат и Кγ за куб, няма да намерите вече традиционното обозначение х2, представляващо **квадрат до Декарт** и Гаус. По-скоро вавилонските надписи намират ехо в инструкциите на Кардано от 16-ти век, да се добави "квадрат на половината от константата на уравнението и да се извади корен квадратен от цялото". Абстрактната алгебра ще започне да отделя тези символи от техните аритметични корени и по-специално буквите ще започнат да представляват не числа, а произволни математически обекти, каквито и да са те. Това също приема името „модерна алгебра“ и понякога все още се нарича по този начин и днес – въпреки че почти два века по-късно това е наистина свободно тълкуване на думата „модерно“.

Какъв е плиткият край на абстрактната алгебра? **Групата**. Нещо достатъчно просто, за което Гротендик веднъж говори за въвеждането му и за изобретяването на символа за нула като за „детски стъпки“, без които математиката повече или по-малко е в застой „за хиляда или две години“. Въпреки своята абстрактност, фундаменталната простота и компактност на концепцията за група някога са я накарали да бъде преподавана в средното училище. Космическата надпревара изиграва роля в стартирането на период на математическо обучение в различни страни с акцент върху относителната „модерност“, известна като „Нова математика“. В САЩ това включва преподаване на основите на множествата в началното училище и понякога по-късно преминаване към абстрактна алгебра. Можете например да намерите учебник за 11-ти клас от епохата, описващ "много важните структури с една операция, наречени групи", продължавайки: "Те се появяват в математиката в много различни маски. Изучаването на групи като такива е пример за алгебра в най-чистото е."

## Долу Евклид!

Но във Франция този вид обучение бил най-систематично и насочено към най-младата аудитория. Там понятието група било представено в еквивалента на американския 8-ми клас (4ème). Особеностите на френската система – с нейните ограничения за рождени дати по календарна година, а не по учебна година – всъщност означават, че фразата „преподава се на тийнейджъри“ не е съвсем точна: в началото на 70-те години строгото представяне на групите всъщност се считало за подходящ за дванадесет годишни. Разбира се, дали дванадесетгодишните обикновено се съгласяват с тази оценка е друг въпрос... Имало е няколко причини за този ентусиазиран, но строг подход, основната от които било влиянието на Бурбаки, като група от видни, главно френски математици. Те публикували под този псевдоним в продължение на десетилетия (забавлявайки се с измислянето на измислена предистория за Никола Бурбаки) и наред с многото си томове, които се опитваха да представят последователна визия за тогавашното състояние на математиката, имали значително влияние върху френското математическо преподаване изобщо. (Те също са отговорни за концепцията за монада, доколкото Роджър Годеман е бил член на Бурбаки, когато неговата „стандартна конструкция“ се появява през 1958 г.) Сред техните основатели е Жан Дьодоне, чийто някогашен вик „Долу триъгълниците! Долу Евклид!" сигнализира за желанието да се премине от преподаване на "вкаменена геометрия" към покриване на по-абстрактната математика, която излиза на преден план през миналия век.

Една от причините концепцията за група да изглежда естествено подходяща за средното или дори средното училище е, че самият откривател е бил тийнейджър – някой си Еварист Галоа, чийто бурен живот по време на политически сътресения, включващи втората френска революция в 1830 г., е прекъснат от дуел на двадесетгодишна възраст. Неговите изследвания на полиномиални уравнения, тема, която вълнува математиците от векове и един от вариантите на която – диофантови уравнения, за които се търсят само цели числа – все още ще играе роля в развитието на понятията зад изчисленията, под формата на "проблем за вземане на решения", поставен от Хилберт. Хилберт, който би отбелязал как работата на Галоа е пример за математическа „независимост“: докато „със сигурност първите и най-стари проблеми във всеки клон на математиката произтичат от опита и са предложени от света на външните явления“, в крайна сметка „той се развива само от себе си нови и плодотворни проблеми и тогава се явява истинският питащ... теорията на Галоа за уравненията... всъщност почти всички по-хубави въпроси на съвременната аритметика и теория на функциите възникват по този начин." По-конкретно Галоа гледал полиноми от пета степен. Имал добре известни „решения в радикали“, които включвали прости аритметични операции и корени на n-та степен, за уравнения от по-малка степен, включително разбира се общото решение на квадратно уравнение, което повечето познават. Но липсата на напредък в намирането на подобно решение за квинтика убедило много математици, че такова не съществува. Тогава Руфини (почти) го доказал, а Абел го доказал без съмнение. Галоа знаел всичко това, но искал да знае защо.

Наистина е поразително, че математическа идея, толкова фундаментална и с толкова много връзки с физическия свят, е трябвало да бъде открита чрез „вътрешно разследване“. Не са включени ябълки, падащи от дървета. Нямало да е и последният в този дух: когато Айленбърг и Мак Лейн започнали теорията на категориите, те били поразени от сходството на конкретни резултати между два много различни клона на математиката и решили да стигнат до дъното.
